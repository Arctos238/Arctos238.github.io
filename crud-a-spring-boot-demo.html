<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Building a CRUD REST API Application</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script
      src="https://use.fontawesome.com/releases/v6.1.0/js/all.js"
      crossorigin="anonymous"
    ></script>
    <!-- Google fonts-->
    <link
      href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
      rel="stylesheet"
      type="text/css"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
  </head>
  <body>
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
      <div class="container px-4 px-lg-5">
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ms-auto py-4 py-lg-0">
            <li class="nav-item">
              <a class="nav-link px-lg-3 py-3 py-lg-4" href="index.html"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link px-lg-3 py-3 py-lg-4" href="about.html"
                >About Me</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link px-lg-3 py-3 py-lg-4" href="projects.html"
                >Projects</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Page Header-->
    <header
      class="masthead"
      style="background-image: url('assets/img/spring-boot-header.webp')"
    >
      <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
          <div class="col-md-10 col-lg-8 col-xl-7">
            <div class="post-heading">
              <h1>Building a CRUD RESTful API Application</h1>
              <h2 class="subheading">
                Quick and Easy Steps to Building a Spring Boot REST Application
              </h2>
              <span class="meta">
                Posted by
                <a href="./index.html">J Pointer</a>
                on February 14th, 2023
              </span>
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- Post Content-->
    <article class="mb-4">
      <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
          < class="col-md-10 col-lg-8 col-xl-7">
            <section>
              <h2 class="section-heading" style="margin-bottom: 20px">
                The Setup
              </h2>
              <p>
                We need to start with the required tools to getting the
                application setup.
              </p>
              <section>
                <h3>IDE Enviroment</h3>
                <p>
                  Firstly we are going to need an IDE, you can use any IDE such
                  as Netbeans or Eclipse.
                </p>
                <p>
                  For this demo I will be using eclipse. Click
                  <a
                    href="https://www.guru99.com/install-eclipse-java.html"
                    target="”_blank”"
                    >this</a
                  >
                  link for help with installing Eclipse. Don't create any
                  projects, just get to the step before you create a project.
                  <b
                    >Ensure you install the Java EE Edition (This is a Java IDE
                    more catered for web development).</b
                  >
                </p>
                <img
                  class="img-fluid mt-2"
                  src="assets/img/eclipse-help.jpg"
                  alt="Eclipse Install Guide"
                />
                <span class="caption text-muted">Java EE Edition</span>
              </section>
              <section>
                <h3>Database Enviroment</h3>
                <p>
                  Secondly we will need a way to persit the data. For this demo
                  we will use MySQL as the database.
                </p>
                <p>
                  Click
                  <a
                    href="https://dev.mysql.com/doc/refman/8.0/en/windows-installation.html"
                    target="_blank"
                    >this</a
                  >
                  for help with installing MySQL.
                  <b>Use the Developer Default Settings.</b>
                </p>
                <p>
                  Once you have completed the installation, download
                  <a
                    href="./assets/files/blog-setup-script.sql"
                    download
                    target="_blank"
                    >this</a
                  >
                  script file and run it inside the MySQL Workbench application
                  with your root login.
                </p>
                <p>
                  It will create a user for the MySQL data, with the username
                  StudentAdmin (password = password of course, because its the
                  most secure password known to man).
                </p>
                <p>
                  Then the script will create a few tables, which I will go into
                  more depth with later. After the tables have been created it
                  will enter some dummy data to get us started.
                </p>
                <p>
                  MySQL is very similar to Oracle, so I won't go into the
                  details on the differences but click
                  <a
                    href="https://www.integrate.io/blog/oracle-vs-mysql/#:~:text=MySQL%20supports%20full%2Dtext%20and,for%20small%20to%20medium%20scale."
                    target="_blank"
                    >here</a
                  >
                  for more details on MySQL (including the differences from
                  Oracle).
                </p>
                <img
                  class="img-fluid mt-2"
                  src="assets/img/mysql-script.jpg"
                  alt="MySQL Script for the Demo"
                />
                <span class="caption text-muted">Demo MySQL Script</span>
              </section>
              <section>
                <h3>Downloading the Spring Boot Starter Project</h3>
                <p>
                  Lastly we will configure the project and download the project
                  initializr files
                </p>
                <p>
                  Go to
                  <a
                    href="https://start.spring.io/
                  "
                    target="_blank"
                    >this</a
                  >
                  website to configurate the starter project.
                </p>
                <img
                  class="img-fluid mt-2"
                  src="assets/img/spring-boot-init-first.jpg"
                  alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                  >Default Configurate Page Spring Boot</span
                >
                <p>Configuration: 
                  <ol>
                    <li>Project - Maven</li>
                    <li>Language - Java</li>
                    <li>
                      Spring Boot - 3.0.4 (Any Current Version that isn't SNAPSHOT
                      will do).
                    </li>
                    <li>
                      Packaging - Jar (Allows us to package the application up
                      into a runnable Jar file).
                    </li>
                    <li>Java Version - 17.</li>
                    <li>
                      Dependencies -
                      <ul>
                        <li>
                          Spring Web (Embedded webserver and REST Controller) -
                          <b>Required</b>
                        </li>
                        <li>
                          Spring Boot DevTools (Mainly for LiveReload and fast
                          restarts when making changes) - <b>Not Required</b>
                        </li>
                        <li>
                          MySQL Driver (Established the connection to the
                          database) - <b>Required</b>
                        </li>
                        <li>
                          Spring Data JPA (Interaction with the database) -
                          <b>Required</b>
                        </li>
                      </ul>
                    </li>
                  </ol>
                </p>
                <img
                class="img-fluid mt-2"
                src="assets/img/spring-boot-init-second.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >Demo Configurate Page Spring Boot</span
                >
                <p>Click generate to download initalizr project. Click <a href="./assets/files/demo.zip" download>here</a> to download initalizr project if you don't want to generate your own.</p>
              </section>
              <section>
                <h3>Import the Maven Project</h3>
                <p>The final step for the setup is to just import the project.</p>
                <p>Go to File > Import > Maven > Existing Maven Project.</p>
                <img
                class="img-fluid mt-2"
                src="assets/img/eclipse-help-install-one.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >First Steps to Importing</span
                >
                <p>Select the location of the Maven Folder > Select the POM.xml file > Finish Button.</p>
                <img
                class="img-fluid mt-2"
                src="assets/img/eclipse-help-install-two.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >Second Steps to Importing</span
                >
                <p>Wait till the project has finished importing and you have successfully imported the project.</p>
                <img
                class="img-fluid mt-2"
                src="assets/img/eclipse-help-install-three.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >Successfully Imported Project</span
                >
              </section>
            </section>
            <section>
              <h2 class="section-heading" style="margin-bottom: 20px">
                Configurations
              </h2>
              <p>
                We just need to configurate the application to link to our database. Click <a
                href="./assets/files/application.properties"
                download
                target="_blank"
                >this</a
              > for the config file which needs to be  saved under src/main/resources (there is a file already there ethier copy and paste or delete and replace).
              </p>
              <img
                class="img-fluid mt-2"
                src="assets/img/application_props.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >Config File loc - inside</span
                >
                <p>The JDBC properties are the only important part here. They are just to connect hibernate (database java) to mysql.</p>
                <ul>
                  <li>url = Url to connect to database.</li>
                  <li>username = Username to connect to DB.</li>
                  <li>password = Password to connect to DB.</li>
                  <li>dialect = MySQL5Dialect to tell hibernate that the DB is MySQL and that this is the langauage to interact with the application.</li>
                  <li>port = Normally set to 8080 but you can set it to any port number you have avaiable</li>
                </ul>
                </section>
                <section> 
                  <h1>Creating the application</h1>
                  <p>This section is about programming the application. I will keep things short and explain the important details as we go along.</p>
                <section name="application-part">
                  <h2 class="section-heading" style="margin-bottom: 20px">Entity/POJO</h2>
                  <p>First we will create the entities for the application. Student and Degree willl be our entities.</p>
                  <p>We will create a package called entity (crud.rest.demo.entity). This package must be under this domain in order for the Spring Boot application to scan the annotations automatically.</p>
                  <p>Then we will create two entities under that package, Student and Degree. Lets start with coding the Student Entity.</p>
                  <img
                class="img-fluid mt-2"
                src="assets/img/entity/student_first.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >Student Class Fields</span
                >
                <p>We create the class like we would normally create an object inside java but we add the two annotations.</p>
                <p>The first annotation @Entity informs Spring that this class is a entity.</p>
                <p>The second anotation @Table informs hibernate that this entity is attached to the student table under the students schema.</p>
                <img
                class="img-fluid mt-2"
                src="assets/img/entity/student_second.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >Student Class Fields</span
                >
                <p>Next we start by creating the fields linked to that table. The id field will have three annotations.</p>
                <ul>
                  <li>@ID = Informs hibernate that this is an ID field</li>
                  <li>@GeneratedValue = Informs hibernate that the value will be auto generated</li>
                  <li>@Column = Links this field to the column on that table</li>
                </ul>
                <p>We will then continue to only add the @Column to the rest of the field until we get to the Degree field.</p>
                <img
                class="img-fluid mt-2"
                src="assets/img/entity/student_third.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >Student Class Fields</span
                >
                <p>For the Degree field we need to added two new notations</p>
                <ul>
                  <li>@OneToOne = Inform hibernate that there is a One To One relationship with this object/table</li>
                  <li>@JoinColumn = Links the Student table to the Degree table with the column stated</li>
                </ul>
                <img
                class="img-fluid mt-2"
                src="assets/img/entity/student_4.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >Student Class - Constructors</span
                >
                <p>Next we create three constructors, one empty, one with all fields and one without the ID. This is so that hibernate can create the object easily.</p>
                <img
                class="img-fluid mt-2"
                src="assets/img/entity/student_5.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >Student Class - Getters/Setters</span
                >
                <p>Lastly, we create normal getters and setters for the Student class.</p>
                <img
                class="img-fluid mt-2"
                src="assets/img/entity/degree1.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >Degree Class</span
                >
                <p>Finally, we do this all again but for the Degree class. Nothing new here.</p>
                <p>Github <a href="https://github.com/Arctos238/REST-CRUD-Demo-Application-Blog/tree/main/REST-CRUD-App/demo/demo/src/main/java/crud/rest/demo/entity">Link</a> for the entities.</p>  
                </section>
                <section>
                  <h2 class="section-heading" style="margin-bottom: 20px">Persistence (Hibernate)</h2>
                </section>
                <p>The next thing we need to do is to create our persistence classes to enable CRUD (Create, Read, Update, Delete) on the database.</p>
                <p>First, we create a new package called DAO (Data Access Object), crud.rest.demo.DAO. Then we create an interface class for the StudentDAO class.</p>    
                <img
                class="img-fluid mt-2"
                src="assets/img/DAO/student_interface.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >StudentDAO Interface</span
                >
                <p>The interface just has the four methods we will use for the CRUD operations.</p>
                <ul>
                  <li>findAll - Find all students in the database</li>
                  <li>saveStudent - Save a new student into the database</li>
                  <li>updateStudent - Update a student in the database with the new details</li>
                  <li>deleteStudent - Delete a student from the database</li>
                </ul>
                <p>Next, we will create the DAO class and implement these methods.</p>
                <img
                class="img-fluid mt-2"
                src="assets/img/DAO/dao-1.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >StudentDAO class</span
                >
                <p>We start by creating the class, implementing the interface and create a field. The EntityManager object is what connect to the database and has pre-built methods for us to use within our methods to perform the CRUD operations.</p>
                <p>We use the annotation @Autowired to tell Spring to create this object, using this constructor when the application initalizes.</p>
                <img
                class="img-fluid mt-2"
                src="assets/img/DAO/dao-3.jpg"
                alt="Default Spring Boot configurate Website"
                />
                <span class="caption text-muted"
                >StudentDAO class</span
                >
                <p>Then inside of each method we perform the operations using the entityManager object. We will use the operations below to create the methods.</p>
                <ul>
                  <li>@Transactional = Creates a single transaction for this method.</li>
                  <li>currentSession.createQuery = Create a query to perform on the database.</li>
                  <li>currentSession.save = Saves the object to the database.</li>
                  <li>currentSession.merge = Merges the object with the existing object in the database.</li>
                  <li>currentSession.find = Creates an object from the table with this ID.</li>
                  <li>currentSession.delete = Delete the record from the table inside the database from the object passed.</li>
                </ul>
                <p>Now that all theses methods are created, we can move on to the final part of the application.</p>
            </section>
                <section>
                  <h2 class="section-heading" style="margin-bottom: 20px">Rest Controller</h2>
                  <p>Next we are going to create the REST Controller for this application. The controller is used to map the endpoints with the HTTP requests and control the data coming in and out.</p>
                  <p>Let start with the boiler plate for the Student Rest Controller Class.</p>
                  <img
                  class="img-fluid mt-2"
                  src="assets/img/restController/controller1.jpg"
                  alt="Default Spring Boot configurate Website"
                  />
                  <span class="caption text-muted"
                  >Student Rest Class</span
                  >
                  <p>We create the class and initalize the class with the studentDAO object in order to perform the operations. </p>
                  <ul>
                    <li>@RestController - Informs Spring that this is a Rest Controller class.</li>
                    <li>@RequestMapping - Create an endpoint at the string passed (localhost:8080/api).</li>
                  </ul>
                  <p>Next we fill out the methods with the endpoints and HTTP requests.</p>
                  <img
                  class="img-fluid mt-2"
                  src="assets/img/restController/controller2.jpg"
                  alt="Default Spring Boot configurate Website"
                  />
                  <span class="caption text-muted"
                  >Student Rest Class</span
                  >
                  <ul>
                    <li>@GetMapping - Creates a GET endpoint at localhost:8080/api/students, which will be used to obtain the students from the database.</li>
                    <li>@PostMapping - Creates a POST endpoint at localhost:8080/api/students, which will be used to save a new student to the database.</li>
                    <li>@PutMapping - Creates a PUT endpoint at localhost:8080/api/students, which will be used to update a student to the database.</li>
                    <li>@DeleteMapping - Creates a DELETE endpoint at localhost:8080/api/students/{studentId}, which will be used to delete a student from the database with the student id (replace the {studentId with the id you want to replace}).</li>
                    <li>@RequestBody - Obtains the JSON inside the body of the request and creates a student object (jackson automatically converts the JSON for us). </li>
                    <li>@PathVariable - Converts the {studentId} into an int for the method to use.</li>
                  </ul>
                  <p>Now we just finish writing the methods by using the StudentDAO class to perform the CRUD operations for us.</p>
                  <img
                  class="img-fluid mt-2"
                  src="assets/img/restController/controller3.jpg"
                  alt="Default Spring Boot configurate Website"
                  />
                  <span class="caption text-muted"
                  >Student Rest Class</span
                  >
                  <p>Now the application has been completed. Github <a href="https://github.com/Arctos238/REST-CRUD-Demo-Application-Blog/tree/main/REST-CRUD-App">Link</a> for the REST application section.</p>
             </section>
             <section>
              <h1>Testing</h1>
              <p>Now we will test each endpoint to ensure that they are working. For this we will use the Postman application. You can download it <a href="https://www.postman.com/downloads/">here</a>.</p>
              <p>Postman just allows us to perform HTTP request, which will allow us test our REST application.</p>
              <h2>GET Request Test</h2>
              <p>We will perform a GET request at the URL localhost:8080/api/students</p>
              <img
                  class="img-fluid mt-2"
                  src="assets/img/postman/findAll.jpg"
                  alt="Default Spring Boot configurate Website"
                  />
                  <span class="caption text-muted"
                  >GET Request</span
                  >
              <p>At the bottom, we can see that all the student have been converted into JSON for us, which was obtained from the database.</p>
              <h2>POST Request Test</h2>
              <p>We will perform a POST request at the URL localhost:8080/api/students</p>
              <img
                  class="img-fluid mt-2"
                  src="assets/img/postman/save-1.jpg"
                  alt="Default Spring Boot configurate Website"
                  />
                  <span class="caption text-muted"
                  >POST Request</span
                  >
            <p>For this, we need to set the JSON object inside the body of the reqeust as RAW/JSON data.</p>
            <img
            class="img-fluid mt-2"
            src="assets/img/postman/save-2.jpg"
            alt="Default Spring Boot configurate Website"
            />
            <span class="caption text-muted"
            >POST Request - Complete</span
            >
            <p>As you can see the data was now saved into the database.</p>
            <h2>PUT Request Test</h2>
            <p>We will perform a PUT request at the URL localhost:8080/api/students</p>
            
            <img
            class="img-fluid mt-2"
            src="assets/img/postman/update-1.jpg"
            alt="Default Spring Boot configurate Website"
            />
            <span class="caption text-muted"
            >PUT Request - Obtain Object</span
            >
            <p>We will update the student with the studentId 1.</p>
            <img
            class="img-fluid mt-2"
            src="assets/img/postman/update-2.jpg"
            alt="Default Spring Boot configurate Website"
            />
            <span class="caption text-muted"
            >PUT Request - Update Object</span
            >
            <p>Lets change her last name to Robert and here degree to id 8.</p>
            <img
            class="img-fluid mt-2"
            src="assets/img/postman/update-3.jpg"
            alt="Default Spring Boot configurate Website"
            />
            <span class="caption text-muted"
            >PUT Request - Complete</span
            >
            </section>
            <p>As you can see here last name has changed to robert and she is now taking Art as her degree.</p>
            <h2>DELETE Request Test</h2>
            <p>We will perform a DELETE request at the URL localhost:8080/api/students/28</p>
            <img
            class="img-fluid mt-2"
            src="assets/img/postman/delete-2.jpg"
            alt="Default Spring Boot configurate Website"
            />
            <span class="caption text-muted"
            >DELETE Request - Delete Object</span
            >
            <p>We will delete the student with the studentId 28.</p>
            <img
            class="img-fluid mt-2"
            src="assets/img/postman/delete-1.jpg"
            alt="Default Spring Boot configurate Website"
            />
            <span class="caption text-muted"
            >DELETE Request - Delete Object</span
            >
            <p>As you can see there is no student in the database with the ID 28 anymore.</p>
            <p>Success, all the test worked and the application is fully up and running. Wooo!</p>
            <section>
              <h1>More Info</h1>
              <p>Thank you for reading my guide to setting up a simple REST application. </p>
                <p>The github code for the project can be found <a href="https://github.com/Arctos238/REST-CRUD-Demo-Application-Blog">here</a>.</p>
              <p>If you would like to learn more about Spring and Spring Boot, please check out <a href="https://www.udemy.com/course/spring-hibernate-tutorial/">this</a> course of Udemy.</p>
            </section>
          </section>
          </div>
        </div>
      </div>
    </article>
    <!-- Footer-->
    <footer class="border-top">
      <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
          <div class="col-md-10 col-lg-8 col-xl-7">
            <ul class="list-inline text-center">
              <li class="list-inline-item">
                <a href="https://www.linkedin.com/in/jacque-pointer-a41536208/">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="https://github.com/Arctos238">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
            </ul>
            <div class="small text-center text-muted fst-italic">
              Copyright &copy; J Ri P 2023
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
  </body>
</html>
